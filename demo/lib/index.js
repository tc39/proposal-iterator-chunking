"use strict";
const IteratorPrototype = Object.getPrototypeOf(Object.getPrototypeOf([].values()));
function liftIterator(iter) {
    return { [Symbol.iterator]() { return iter; } };
}
function* chunksImpl(iter, chunkSize) {
    let buffer = [];
    for (const elem of liftIterator(iter)) {
        buffer.push(elem);
        if (buffer.length === chunkSize) {
            yield buffer;
            buffer = [];
        }
    }
    if (buffer.length > 0) {
        yield buffer;
    }
}
function chunks(chunkSize = 2) {
    if (typeof chunkSize !== 'number'
        || chunkSize <= 0
        || Math.floor(chunkSize) !== chunkSize
        || chunkSize >= Math.pow(2, 53)) {
        throw new RangeError;
    }
    return chunksImpl(this, chunkSize);
}
function* windowsImpl(iter, windowSize) {
    let buffer = [];
    for (const elem of liftIterator(iter)) {
        if (buffer.length === windowSize) {
            buffer.shift();
        }
        buffer.push(elem);
        if (buffer.length === windowSize) {
            yield buffer.slice();
        }
    }
}
function windows(windowSize = 2) {
    if (typeof windowSize !== 'number'
        || windowSize <= 0
        || Math.floor(windowSize) !== windowSize
        || windowSize >= Math.pow(2, 53)) {
        throw new RangeError;
    }
    return windowsImpl(this, windowSize);
}
Object.defineProperty(IteratorPrototype, 'chunks', {
    configurable: true,
    writable: true,
    enumerable: false,
    value: chunks,
});
Object.defineProperty(IteratorPrototype, 'windows', {
    configurable: true,
    writable: true,
    enumerable: false,
    value: windows,
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE1BQU0saUJBQWlCLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUE7QUFFbkYsU0FBUyxZQUFZLENBQUksSUFBaUI7SUFDeEMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFDbEQsQ0FBQztBQUVELFFBQVEsQ0FBQyxDQUFDLFVBQVUsQ0FBSSxJQUFpQixFQUFFLFNBQWlCO0lBQzFELElBQUksTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNoQixLQUFLLE1BQU0sSUFBSSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xCLElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUU7WUFDL0IsTUFBTSxNQUFNLENBQUM7WUFDYixNQUFNLEdBQUcsRUFBRSxDQUFDO1NBQ2I7S0FDRjtJQUNELElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDckIsTUFBTSxNQUFNLENBQUM7S0FDZDtBQUNILENBQUM7QUFHRCxTQUFTLE1BQU0sQ0FBZ0IsWUFBcUIsQ0FBQztJQUNuRCxJQUNFLE9BQU8sU0FBUyxLQUFLLFFBQVE7V0FDMUIsU0FBUyxJQUFJLENBQUM7V0FDZCxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLFNBQVM7V0FDbkMsU0FBUyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUMvQjtRQUNBLE1BQU0sSUFBSSxVQUFVLENBQUM7S0FDdEI7SUFDRCxPQUFPLFVBQVUsQ0FBQyxJQUF5QixFQUFFLFNBQVMsQ0FBQyxDQUFBO0FBQ3pELENBQUM7QUFFRCxRQUFRLENBQUMsQ0FBQyxXQUFXLENBQUksSUFBaUIsRUFBRSxVQUFrQjtJQUM1RCxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDaEIsS0FBSyxNQUFNLElBQUksSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDckMsSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLFVBQVUsRUFBRTtZQUNoQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDaEI7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2xCLElBQUksTUFBTSxDQUFDLE1BQU0sS0FBSyxVQUFVLEVBQUU7WUFDaEMsTUFBTSxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDdEI7S0FDRjtBQUNILENBQUM7QUFHRCxTQUFTLE9BQU8sQ0FBZ0IsYUFBc0IsQ0FBQztJQUNyRCxJQUNFLE9BQU8sVUFBVSxLQUFLLFFBQVE7V0FDM0IsVUFBVSxJQUFJLENBQUM7V0FDZixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFVBQVU7V0FDckMsVUFBVSxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUNoQztRQUNBLE1BQU0sSUFBSSxVQUFVLENBQUM7S0FDdEI7SUFDRCxPQUFPLFdBQVcsQ0FBQyxJQUF5QixFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBQzVELENBQUM7QUFFRCxNQUFNLENBQUMsY0FBYyxDQUFDLGlCQUFpQixFQUFFLFFBQVEsRUFBRTtJQUNqRCxZQUFZLEVBQUUsSUFBSTtJQUNsQixRQUFRLEVBQUUsSUFBSTtJQUNkLFVBQVUsRUFBRSxLQUFLO0lBQ2pCLEtBQUssRUFBRSxNQUFNO0NBQ2QsQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLGNBQWMsQ0FBQyxpQkFBaUIsRUFBRSxTQUFTLEVBQUU7SUFDbEQsWUFBWSxFQUFFLElBQUk7SUFDbEIsUUFBUSxFQUFFLElBQUk7SUFDZCxVQUFVLEVBQUUsS0FBSztJQUNqQixLQUFLLEVBQUUsT0FBTztDQUNmLENBQUMsQ0FBQyJ9